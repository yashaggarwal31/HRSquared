(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{20054:function(e,t,s){Promise.resolve().then(s.bind(s,84714))},58064:function(e,t,s){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return l}});let a=s(74590);function l(e){let{createServerReference:t}=s(6671);return t(e,a.callServer)}},84714:function(e,t,s){"use strict";var a=s(57437),l=s(2265),c=s(73930),n=s(35123),r=s(43561);let i=(e,t,s)=>{let a=(t-1)*s;return e.slice(a,a+s)};t.default=function(e){let{ticketData:t}=e;console.log("date ? ",t);let[s,d]=(0,l.useState)(1),[o,x]=(0,l.useState)([{}]),[u,m]=(0,l.useState)(""),[b,f]=(0,l.useState)([]),[p,h]=(0,l.useState)([]),[g,j]=(0,l.useState)(!1),[y,k]=(0,l.useState)(null);i(b,s,8),(0,l.useEffect)(()=>{h(""==u?i(b,s,8):i(o,s,8))},[s,u]);let N=e=>{if(e==u){x([{}]),m("");return}m(e);let t=b.filter(t=>t.status==e);x(t),d(1),h(i(t,s,8))};async function v(e,t,s){let a=document.getElementById(e);a&&(a.innerHTML="Marking...");try{await (0,r.Nf)(t,s),k(null),location.reload()}catch(e){console.log(e)}}async function _(e){try{let t=(0,r.mu)(e);console.log(t),k(null),location.reload()}catch(e){console.log(e)}}return(0,a.jsx)("div",{children:g?(0,a.jsxs)("div",{className:"fixed top-0 left-0 w-screen h-screen z-[99999999999999] flex flex-col items-center justify-center bg-black/40",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-white"})," ",(0,a.jsx)("h3",{children:"Fetching Tickets ..."})," "]}):(0,a.jsx)("div",{children:y?(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex flex-col items-center justify-center bg-slate-500 bg-opacity-70 ",children:(0,a.jsxs)("div",{className:"relative rounded-md bg-white ",children:[(0,a.jsx)("div",{className:"absolute -right-3 -top-3  rounded-full bg-slate-600 px-3 py-1  text-white",children:(0,a.jsx)("button",{onClick:e=>{console.log("CLCLC"),k(null),e.preventDefault()},children:"X"})}),(0,a.jsx)("div",{className:"flex w-fit max-w-sm flex-col items-center justify-center ",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 ",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4  rounded-t-md bg-indigo-500 px-7 py-5 text-white",children:[(0,a.jsxs)("div",{children:["#",y.id]}),(0,a.jsx)("div",{className:"text-2xl",children:y.title}),(0,a.jsx)("div",{className:"".concat("Open"==y.status?"bg-red-500":"Resolved"==y.status?"bg-green-500 ":"bg-yellow-500 ","  rounded-full px-2 py-1 text-sm"),children:y.status})]}),(0,a.jsx)("div",{className:"px-7  text-lg",children:y.description}),(0,a.jsxs)("div",{className:" px-7 py-5",children:[(0,a.jsxs)("div",{className:"bg-gray text-sm text-zinc-400",children:["Opened at : ",(0,n.i)(y.createdat)]}),"Open"==y.status?(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsx)("button",{id:"markAsClosed",className:"mt-2 rounded-md bg-black px-4 py-2 text-center text-white",onClick:()=>v("markAsClosed",y.ticket_id,4),children:"Mark Resolved"}),(0,a.jsx)("button",{id:"markAsAddressed",className:"mt-2 rounded-md bg-black px-4 py-2 text-center text-white",onClick:()=>v("markAsAddressed",y.ticket_id,5),children:"Mark being addressed"}),(0,a.jsx)("button",{id:"deligate",className:"mt-2 rounded-md bg-black px-4 py-2 text-center text-white",onClick:()=>_(y.ticket_id),children:"deligate"})]}):"Resolved"==y.status?(0,a.jsxs)("div",{className:"bg-gray text-sm text-zinc-400",children:["Closed at : ",(0,n.i)(y.closedat)]}):(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsx)("button",{id:"markAsClosed",className:"mt-2 rounded-md bg-black px-4 py-2 text-center text-white",onClick:()=>v("markAsClosed",y.ticket_id,4),children:"Mark Resolved"}),(0,a.jsx)("button",{id:"deligate",className:"mt-2 rounded-md bg-black px-4 py-2 text-center text-white",onClick:()=>_(y.ticket_id),children:"deligate"})]})]})]})})]})}):(0,a.jsxs)("div",{className:"flex items-stretch",children:[(0,a.jsxs)("div",{className:"h-screen w-[18%] items-stretch bg-slate-100",children:[(0,a.jsx)("div",{className:"mx-2 my-1 mt-2 text-xl",children:"Filters"}),(0,a.jsx)("div",{className:"".concat("Resolved"==u?"border-sky-500 text-sky-500":"border-gray-300 text-gray-400"," m-2  inline-block cursor-pointer rounded-lg border-2 px-4 py-2"),onClick:()=>N("Resolved"),children:"Resolved"}),(0,a.jsx)("div",{className:"".concat("Open"==u?"border-sky-500 text-sky-500":"border-gray-300 text-gray-400"," inline-block  cursor-pointer rounded-lg border-2 px-4 py-2 "),onClick:()=>N("Open"),children:"Open"})]}),(0,a.jsxs)("div",{className:"w-[82%]",children:[(0,a.jsxs)("table",{className:"w-[100%]",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:" m-10 bg-gray-200/50",children:[(0,a.jsx)("th",{className:"px-10 py-3 text-left",children:"Assigned To"}),(0,a.jsx)("th",{className:"px-10 py-3 text-left",children:"Title"}),(0,a.jsx)("th",{className:"px-10 py-3 text-left",children:"Status"}),(0,a.jsx)("th",{className:"px-10 py-3 text-left",children:"Created at"}),(0,a.jsx)("th",{className:"px-10 py-3 text-left",children:"Details"})]})}),(0,a.jsx)("tbody",{children:t.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"border-b border-sky-500 px-10 py-3",children:e.assignedto}),(0,a.jsx)("td",{className:"border-b border-sky-500 px-10 py-3",children:e.title}),(0,a.jsx)("td",{className:"border-b border-sky-500 px-10 py-3",children:(0,a.jsx)("span",{className:"".concat("Open"==e.status?"text-[#f03e3e] bg-[#f03e3e1a]":"Resolved"==e.status?"text-[#14ae6d] bg-[#e7f5f0]":"text-[#D68D00] bg-[#D68D001A] ","  rounded-full px-2 py-1 text-sm "),children:e.status})}),(0,a.jsx)("td",{className:"border-b border-sky-500 px-10 py-3",children:(0,n.i)(e.createdat)}),(0,a.jsx)("td",{className:"border-b border-sky-500",onClick:()=>k(e),children:(0,a.jsx)("span",{className:" cursor-pointer rounded-full bg-blue-200   px-3 py-1 text-sm text-blue-500 hover:bg-blue-100",children:"View Details"})})]},e.ticket_id))})]}),(0,a.jsx)(c.Z,{items:""==u?b.length:o.length,currentPage:s,pageSize:8,onPageChange:e=>{d(e)}})]})]})})})}},73930:function(e,t,s){"use strict";var a=s(57437),l=s(17278),c=s.n(l);t.Z=e=>{let{items:t,pageSize:s,currentPage:l,onPageChange:n}=e;console.log("items -> ",t);let r=Math.ceil(t/s);if(1===r)return null;let i=Array.from({length:r},(e,t)=>t+1);return(0,a.jsx)("div",{children:(0,a.jsx)("ul",{className:c().pagination,children:i.map(e=>(0,a.jsx)("li",{className:e===l?c().pageItemActive:c().pageItem,onClick:()=>n(e),children:(0,a.jsx)("a",{className:c().pageLink,children:e})},e))})})}},35123:function(e,t,s){"use strict";s.d(t,{i:function(){return a}});let a=e=>{if(!e)return"";let t=new Date(e),s=t.getUTCMonth()+1,a=t.getUTCFullYear(),l=t.getUTCDate(),c=["January","February","March","April","May","June","July","August","September","October","November","December"][s-1];return"".concat(c," ").concat(l,", ").concat(a)}},43561:function(e,t,s){"use strict";s.d(t,{HM:function(){return c},Nf:function(){return r},OA:function(){return l},dQ:function(){return n},mu:function(){return i}}),s(74590);var a=s(58064),l=(0,a.$)("75a8f0df29fbc5d9ed038a63256389ddcaf318c4");(0,a.$)("c209c09362fa20cbed56af258953b52262feaccc");var c=(0,a.$)("777da57429d2269445386e1c1705a5a5327ec0fd"),n=(0,a.$)("b6558d937610141ed48787f4792a92cd116d0873"),r=(0,a.$)("92a6dade841af0fa08376101f1391bd44b18dafb"),i=(0,a.$)("f4c14cd734994430527605c5c534be48cfc3582a");(0,a.$)("ab9d7ea00ff0dbb00ad42d5a0edc121994b61750"),(0,a.$)("6b04dd2f52e628e3ef8237caef2a3981589e0945"),(0,a.$)("0d3b394a6f5b2ee7d22e897eaecc161123665419")},17278:function(e){e.exports={container:"Pagination_container__K2pXc",pagination:"Pagination_pagination__YO7tt",pageLink:"Pagination_pageLink__Dbtuc",pageItem:"Pagination_pageItem__S74oz",pageItemActive:"Pagination_pageItemActive__tUfHZ"}}},function(e){e.O(0,[180,971,23,744],function(){return e(e.s=20054)}),_N_E=e.O()}]);