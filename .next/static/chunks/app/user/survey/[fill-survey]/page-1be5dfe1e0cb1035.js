(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[905],{65081:function(e,t,l){Promise.resolve().then(l.bind(l,27278))},60291:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return s}});let s=l(99920)._(l(2265)).default.createContext(null)},27278:function(e,t,l){"use strict";l.d(t,{default:function(){return o}});var s=l(57437);l(2265);var n=l(96866),r=l(78109),i=l(10741),a=l(66648);function o(e){let{surveyFields:t,title:l,survey_img:o,surveyID:c}=e,{user:d}=(0,i.aF)(),u=l.split("%!@");l=u[0];let x=u[1],m=async e=>{console.log("sending with response data: ",e);try{await fetch(r.WB,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>console.log("this was reached",e)).catch(e=>console.log(e))}catch(e){console.log("error while fetching:",e)}},h=1,b=0;return(0,s.jsx)("div",{id:"dom-form",className:"bg-slate-300 pt-4 font-Roboto",children:(0,s.jsxs)("form",{method:"post",className:"flex flex-col justify-center items-center gap-4 mt-12",onSubmit:function(e){let t=document.getElementById("submit-btn");t.innerHTML="Submitting",t.disabled=!0;let l=document.getElementById("dom-form");console.log(l),e.preventDefault();let s=e.target,n=[];for(let e of s.elements){if(!e.name)continue;let t=e.type,l="",r=s.querySelector('label[htmlFor="'.concat(e.id,'"]'));console.log("For this element, ",e,"Type is",e.type,"\n This si the label ",r),r&&(l=r.textContent.trim()),"checkbox"===t&&""==l&&(l=e.parentNode.parentNode.parentNode.firstChild.textContent),"select-one"==t&&(l=e.parentNode.firstChild.textContent);let i="",a="";switch(t){case"text":case"date":i=e.value,a=e.id;break;case"checkbox":case"radio":if(null===(i=e.checked?e.value:null))continue;a=e.id;break;case"select-one":i=e.options[e.selectedIndex].value,a=e.id;break;case"file":if(!e.files[0])continue;i=e.files[0].name,a=e.id}let o={label:l,type:t,answer:i,id:a};n.push(o)}if(l){let e=l.outerHTML;n.push({htmlString:e})}let r=JSON.stringify(n),i={user_id:d.id,survey_id:parseInt(c),response_data:r};console.log("are you going to submit Response",i),m(i),t.innerHTML="Submitted",console.log(r)},children:[o&&(0,s.jsx)("div",{className:"w-[55%] ",children:(0,s.jsx)(a.default,{width:"100",height:100,className:"w-[100%] h-[15rem] rounded-lg",src:o,alt:"A Survey Banner yash ... "})}),(0,s.jsxs)("div",{className:"w-[55%] rounded-lg border-t-4 border-blue-500 bg-white p-3 ",children:[(0,s.jsx)("div",{className:"text-2xl flex  items-center ",children:(0,s.jsx)("label",{className:"my-8 text-left text-2xl outline-none border-b",children:l})}),(0,s.jsx)("div",{className:" text-xl text-center flex justify-center items-center",children:(0,s.jsx)("textarea",{className:"w-[100%] outline-none text-sm",placeholder:"Survey Description",value:x})})]}),t&&t.map(e=>{var t,l,r;return(0,s.jsxs)("div",{className:"w-[55%] rounded-lg border-l-4 border-blue-500 bg-white p-3",children:[e.type===n.U.TEXTINPUT&&(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsxs)("label",{htmlFor:h.toString(),className:"mb-3 text-lg",children:[e.label," "]}),(0,s.jsx)("input",{id:(h++).toString(),name:"TextField",placeholder:"Short answer"})]}),e.type==n.U.DROPDOWN&&(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("label",{className:"mb-3 text-lg",children:e.label}),(0,s.jsxs)("select",{id:(h++).toString(),name:"DropDown",className:"w-[40%] rounded-md bg-slate-100 px-4 py-4 outline-none",children:[(0,s.jsx)("option",{className:"p-10",children:"Choose your pick "}),e.options.map(e=>(0,s.jsx)("option",{className:"p-10",children:e},1))]})]}),e.type==n.U.CHECKBOX&&(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsxs)("p",{id:"checkbox-label",className:"mb-3 text-lg",children:[e.label," "]}),(0,s.jsx)("div",{className:"flex flex-col ",children:null===(t=e.options)||void 0===t?void 0:t.map(t=>(0,s.jsxs)("div",{className:"align-center flex gap-4",children:[(0,s.jsx)("input",{id:(h++).toString(),value:t,name:e.label,type:"checkbox"}),(0,s.jsxs)("label",{children:[t," "]})]},1))})]}),e.type==n.U.FILEUPLOAD&&(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("label",{htmlFor:h.toString(),className:"mb-3 text-lg",children:e.label}),(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)("input",{id:(h++).toString(),name:"myfile",type:"file",className:"w-72 max-w-full p-1.5 bg-white text-gray-800 rounded-lg border border-gray-500 file:mr-5 file:border-none file:bg-blue-800 file:px-5 file:py-2 file:rounded-lg file:text-white file:cursor-pointer file:hover:bg-blue-600"})})]}),e.type==n.U.DATE&&(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsxs)("label",{htmlFor:h.toString(),className:"mb-3 text-lg",children:[e.label," "]}),(0,s.jsxs)("div",{className:"relative max-w-sm",children:[(0,s.jsx)("div",{className:"pointer-events-none absolute inset-y-0 start-0 flex items-center ps-3.5",children:(0,s.jsx)("svg",{className:"h-4 w-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})})}),(0,s.jsx)("input",{name:"Date",type:"date",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 ps-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Select date",id:(h++).toString()})]})]}),e.type==n.U.MATRIX&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"",children:[e.label," "]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("table",{className:"w-[80%]",children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"text-center",children:[(0,s.jsx)("th",{children:" "}),null===(l=e.matrixColumn)||void 0===l?void 0:l.map(e=>(0,s.jsx)("th",{children:e},b++))]}),null===(r=e.matrixRow)||void 0===r?void 0:r.map(t=>{var l;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t}),null===(l=e.matrixColumn)||void 0===l?void 0:l.map(e=>(0,s.jsx)("td",{className:"text-center",children:(0,s.jsx)("input",{type:"radio",name:t+"1",id:(h++).toString(),value:e})},b++))]},b++)})]})})})]})]},0)}),(0,s.jsx)("button",{id:"submit-btn",className:"mb-2 me-2 rounded-lg bg-gradient-to-br from-purple-600 to-blue-500 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-gradient-to-bl focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800",type:"submit",children:"Submit Response"})]})})}},96866:function(e,t,l){"use strict";var s,n;l.d(t,{U:function(){return s}}),(n=s||(s={}))[n.TEXTINPUT=0]="TEXTINPUT",n[n.DROPDOWN=1]="DROPDOWN",n[n.CHECKBOX=2]="CHECKBOX",n[n.DATE=3]="DATE",n[n.MATRIX=4]="MATRIX",n[n.FILEUPLOAD=5]="FILEUPLOAD"},78109:function(e,t,l){"use strict";l.d(t,{Is:function(){return s},WB:function(){return n}});let s="/api/survey/admin/createsurvey",n="/api/survey/fillsurvey"}},function(e){e.O(0,[741,648,971,23,744],function(){return e(e.s=65081)}),_N_E=e.O()}]);