(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[802],{50328:function(e,l,a){Promise.resolve().then(a.bind(a,8072))},8072:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return T}});var s=a(57437),t=a(2265),r=a(71538),n=a(12218),i=a(49354);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=t.forwardRef((e,l)=>{let{className:a,variant:t,size:n,asChild:o=!1,...c}=e,u=o?r.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:t,size:n,className:a})),ref:l,...c})});o.displayName="Button";let c=t.forwardRef((e,l)=>{let{className:a,type:t,...r}=e;return(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:l,...r})});c.displayName="Input";var u=a(38364);let m=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=t.forwardRef((e,l)=>{let{className:a,...t}=e;return(0,s.jsx)(u.f,{ref:l,className:(0,i.cn)(m(),a),...t})});h.displayName=u.f.displayName;var x=a(21413),b=a(96866);function f(e){let{children:l,fieldType:a,formFields:r,setFormFields:n}=e,[i,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[g,j]=(0,t.useState)([]),[v,y]=(0,t.useState)([]),[N,C]=(0,t.useState)([]);function w(e){e==b.U.TEXTINPUT&&n([...r,{type:b.U.TEXTINPUT,label:i}]),e==b.U.DROPDOWN&&n([...r,{type:b.U.DROPDOWN,label:i,options:g}]),e==b.U.CHECKBOX&&n([...r,{type:b.U.CHECKBOX,label:i,options:g}]),e==b.U.FILEUPLOAD&&n([...r,{type:b.U.FILEUPLOAD,label:i}]),e==b.U.DATE&&n([...r,{type:b.U.DATE,label:i}]),e==b.U.MATRIX&&n([...r,{type:b.U.MATRIX,label:i,matrixRow:v,matrixColumn:N}])}return(0,s.jsxs)(x.J2,{children:[(0,s.jsx)(x.xo,{asChild:!0,children:(0,s.jsx)(o,{variant:"outline",children:l})}),(0,s.jsx)(x.yk,{className:"w-80",children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"font-medium leading-none",children:"Field Title"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:l})]}),a===b.U.TEXTINPUT&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"label",children:"Label"}),(0,s.jsx)(c,{id:"labelID",name:"label",defaultValue:"Your Label",className:"col-span-2 h-8",onChange:e=>{d(e.target.value)}})]}),(0,s.jsx)(o,{className:"",onClick:()=>w(b.U.TEXTINPUT),children:"Submit Choices"})]}),a==b.U.DROPDOWN&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"label",children:"Question: "}),(0,s.jsx)(c,{id:"labelID",name:"label",defaultValue:"Your Label",className:"col-span-2 h-8",onChange:e=>{d(e.target.value)}}),(0,s.jsx)(h,{htmlFor:"label",children:"New Option"}),(0,s.jsx)(c,{id:"labelID",name:"label",defaultValue:"Your Label",className:"col-span-2 h-8",onChange:e=>{m(e.target.value)}}),(0,s.jsx)("button",{onClick:()=>j([...g,u]),children:"Add Option"}),(0,s.jsx)("button",{onClick:()=>j([]),children:"Clear"}),(0,s.jsx)("ul",{children:g.map(e=>(0,s.jsx)("li",{children:e}))})]}),(0,s.jsx)(o,{className:"",onClick:()=>w(b.U.DROPDOWN),children:"Submit Choices"})]}),a==b.U.CHECKBOX&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"label",children:"Question: "}),(0,s.jsx)(c,{id:"labelID",name:"label",defaultValue:"Your Label",className:"col-span-2 h-8",onChange:e=>{d(e.target.value)}}),(0,s.jsx)(h,{htmlFor:"label",children:"New Option"}),(0,s.jsx)(c,{id:"labelID",name:"label",defaultValue:"Your Label",className:"col-span-2 h-8",onChange:e=>{m(e.target.value)}}),(0,s.jsx)("button",{onClick:()=>j([...g,u]),children:"Add Option"}),(0,s.jsx)("button",{onClick:()=>j([]),children:"Clear"}),(0,s.jsx)("ul",{children:g.map(e=>(0,s.jsx)("li",{children:e}))})]}),(0,s.jsx)(o,{className:"",onClick:()=>w(b.U.CHECKBOX),children:"Submit Choices"})]}),a==b.U.DATE&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"label",children:"Label"}),(0,s.jsx)(c,{id:"labelID",name:"label",defaultValue:"Your Label",className:"col-span-2 h-8",onChange:e=>{d(e.target.value)}})]}),(0,s.jsx)(o,{className:"",onClick:()=>w(b.U.DATE),children:"Submit Choices"})]}),a==b.U.MATRIX&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"label",children:"Question: "}),(0,s.jsx)(c,{id:"labelID",name:"label",defaultValue:"Your Label",className:"col-span-2 h-8",onChange:e=>{d(e.target.value)}}),(0,s.jsx)(h,{htmlFor:"label",children:"New row"}),(0,s.jsx)(c,{id:"labelID",name:"label",defaultValue:"Your Label",className:"col-span-2 h-8",onChange:e=>{m(e.target.value)}}),(0,s.jsx)(h,{htmlFor:"label",children:"New Column"}),(0,s.jsx)(c,{id:"labelID",name:"label",defaultValue:"Your Label",className:"col-span-2 h-8",onChange:e=>{p(e.target.value)}}),(0,s.jsx)("button",{onClick:()=>y([...v,u]),children:"Add Row"}),(0,s.jsx)("button",{onClick:()=>C([...N,f]),children:"Add Column"}),(0,s.jsx)("button",{onClick:()=>{C([]),y([])},children:"Clear"}),(0,s.jsx)("ul",{children:v.map(e=>(0,s.jsx)("li",{children:e}))}),(0,s.jsx)("ul",{children:N.map(e=>(0,s.jsx)("li",{children:e}))})]}),(0,s.jsx)(o,{className:"",onClick:()=>w(b.U.MATRIX),children:"Submit Choices"})]}),a==b.U.FILEUPLOAD&&(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"label",children:"Label"}),(0,s.jsx)(c,{id:"labelID",name:"label",defaultValue:"Your Label",className:"col-span-2 h-8",onChange:e=>{d(e.target.value)}})]}),(0,s.jsx)(o,{className:"",onClick:()=>w(b.U.FILEUPLOAD),children:"Submit Choices"})]})]})})]})}var p=a(78109);a(74590);var g=a(58064),j=(0,g.$)("c4ad600bf022cca31ebfcf4de561635feef8bc4c");(0,g.$)("bc1b0a60241e1ab2d50e7b25b670761a0951a9bd"),(0,g.$)("a45bd6869df1810050cb672200a7ccc1177008bc"),(0,g.$)("1294bc6289fb3f48ece6b2624fcf0a7159bd44a1"),(0,g.$)("72a2adeb8fd5d46dda01f64de9967841f094ace5"),(0,g.$)("803e1e62126ed4be882fbd3e7af960204256164b"),(0,g.$)("698d721765c12ab740b9a21001fb9c58fa7ab7aa"),(0,g.$)("5b991ea63bbb793222adafd52aa38e3d967dded3"),(0,g.$)("d8529ab2382711fcc0bdeace4c9ad172a39bf807"),(0,g.$)("f05d8aee3059d76935afb18d5406bb1506492ee1"),(0,g.$)("50dadfc4330057b610d58480cf7826de26ef9cfb");var v=a(36463),y=a.n(v);a(54575);var N=a(66648),C=a(10741),w=a(16463),T=function(){let{user:e}=(0,C.aF)(),l=(0,w.useRouter)(),[a,r]=(0,t.useState)([]),[n,i]=(0,t.useState)("Test-Survey"),[d,o]=(0,t.useState)("Test-Description"),[c,u]=(0,t.useState)(),[m,h]=(0,t.useState)(new Date),[x,g]=(0,t.useState)(null),[v,T]=(0,t.useState)(null);(0,t.useEffect)(()=>{!async function(){T(await j())}()},[]);let U=e=>{let l=e.target.value;g(l),console.log("Selection Value",l)};(0,t.useEffect)(()=>{u(m.toISOString())},[m]);let D=async()=>{console.log("userid is: ",e.id);let s=document.getElementById("survey-creation");s.textContent="Creating...";let t={title:n.concat("%!@").concat(d),survey_fields:a,closes_at:c,created_by:e?e.id:"1",category:x,survey_img:"https://res.cloudinary.com/dyeeocktp/image/upload/v1715711217/bannerIcon_nch5v7-cropped_nhtxye.svg"};console.log(t),console.log("Survey Creation Resposne: ",await fetch(p.Is,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})),s.textContent="Created",l.push("/admin/survey"),l.refresh()};return(0,s.jsxs)("div",{className:"bg-slate-300 min-h-screen font-Roboto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-5 mb-10",children:[(0,s.jsx)(f,{fieldType:b.U.TEXTINPUT,formFields:a,setFormFields:r,children:"Add Text Input"}),(0,s.jsx)(f,{fieldType:b.U.DROPDOWN,formFields:a,setFormFields:r,children:"Add Dropdown Input"}),(0,s.jsx)(f,{fieldType:b.U.CHECKBOX,formFields:a,setFormFields:r,children:"Add Checkbox Input"}),(0,s.jsx)(f,{fieldType:b.U.FILEUPLOAD,formFields:a,setFormFields:r,children:"Add Document Uploader Input"}),(0,s.jsx)(f,{fieldType:b.U.DATE,formFields:a,setFormFields:r,children:"Add Date Picker"})]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-center items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"survey-close-date",className:"font-medium text-gray-700",children:"Survey Closes On: "}),(0,s.jsx)(y(),{selected:m,onChange:e=>h(e),minDate:new Date,showTimeSelect:!0,dateFormat:"Pp",placeholder:"Survey Closing Date",className:"w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),v&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"my-select",className:"font-medium text-gray-700",children:"Survey Belongs To: "}),(0,s.jsxs)("select",{id:"my-select",className:"w-[180px] px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",onChange:e=>U(e),children:[(0,s.jsx)("option",{value:"",children:"Public"}),v.map(e=>(0,s.jsx)("option",{value:e.id,children:e.groupname}))]})]})]}),(0,s.jsxs)("form",{action:"",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 bg-slate-300 p-10 ",children:[(0,s.jsx)("div",{className:"w-[55%] ",children:(0,s.jsx)(N.default,{width:"100",height:100,className:"w-[100%] h-[15rem] rounded-lg",src:"https://res.cloudinary.com/dyeeocktp/image/upload/v1715711217/bannerIcon_nch5v7-cropped_nhtxye.svg",alt:"A Survey Banner yash ... "})}),(0,s.jsxs)("div",{className:"w-[55%] rounded-lg border-t-4 border-blue-500 bg-white p-3",children:[(0,s.jsx)("div",{className:"text-2xl",children:(0,s.jsx)("input",{className:"my-8 w-[100%] text-2xl outline-none",placeholder:"Survey Title",onChange:e=>i(e.target.value)})}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{className:"w-[100%] outline-none",placeholder:"Survey Description",onChange:e=>o(e.target.value)})})]}),null==a?void 0:a.map(e=>{var l,a,t;return(0,s.jsxs)("div",{className:"w-[55%] rounded-lg border-l-4 border-blue-500 bg-white p-3",children:[e.type===b.U.TEXTINPUT&&(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsxs)("label",{className:"mb-3 text-lg",children:[e.label," "]}),(0,s.jsx)("input",{placeholder:"input"})]}),e.type==b.U.DROPDOWN&&(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("label",{className:"mb-3 text-lg",children:e.label}),(0,s.jsxs)("select",{className:"w-[40%] rounded-md bg-slate-100 px-4 py-4 outline-none",children:[(0,s.jsx)("option",{className:"p-10",children:"Choose your pick "}),e.options.map(e=>(0,s.jsx)("option",{children:(0,s.jsx)("div",{className:"p-10",children:e})}))]})]}),e.type==b.U.CHECKBOX&&(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsxs)("label",{className:"mb-3 text-lg",children:[e.label," "]}),(0,s.jsx)("div",{className:"flex flex-col ",children:null===(l=e.options)||void 0===l?void 0:l.map(e=>(0,s.jsxs)("div",{className:"align-center flex gap-4",children:[(0,s.jsx)("input",{type:"checkbox"}),(0,s.jsxs)("label",{children:[e," "]})]}))})]}),e.type==b.U.FILEUPLOAD&&(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("label",{className:"mb-3 text-lg",children:e.label}),(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)("input",{name:"myfile",type:"file",className:"w-72 max-w-full p-1.5 bg-white text-gray-800 rounded-lg border border-gray-500 file:mr-5 file:border-none file:bg-blue-800 file:px-5 file:py-2 file:rounded-lg file:text-white file:cursor-pointer file:hover:bg-blue-600"})})]}),e.type==b.U.DATE&&(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsxs)("label",{className:"mb-3 text-lg",htmlFor:"",children:[e.label," "]}),(0,s.jsxs)("div",{className:"relative max-w-sm",children:[(0,s.jsx)("div",{className:"pointer-events-none absolute inset-y-0 start-0 flex items-center ps-3.5",children:(0,s.jsx)("svg",{className:"h-4 w-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})})}),(0,s.jsx)("input",{type:"date",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 ps-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Select date"})]})]}),e.type==b.U.MATRIX&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("label",{className:"",children:[e.label," "]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsxs)("table",{className:"w-[80%]",children:[(0,s.jsxs)("tr",{className:"text-center",children:[(0,s.jsx)("th",{children:" "}),null===(a=e.matrixColumn)||void 0===a?void 0:a.map(e=>(0,s.jsx)("th",{children:e}))]}),(0,s.jsx)("tbody",{children:null===(t=e.matrixRow)||void 0===t?void 0:t.map(l=>{var a;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:l}),null===(a=e.matrixColumn)||void 0===a?void 0:a.map(()=>(0,s.jsx)("td",{className:"text-center",children:(0,s.jsx)("input",{type:"radio",name:l})}))]})})})]})})]})]})})]}),(0,s.jsx)("div",{className:" flex items-center justify-center",children:(0,s.jsx)("button",{id:"survey-creation",type:"button",className:"mb-2 me-2 rounded-lg bg-gradient-to-br from-purple-600 to-blue-500 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-gradient-to-bl focus:outline-none focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800",onClick:()=>D(),children:"Create Survey"})})]})]})}},96866:function(e,l,a){"use strict";var s,t;a.d(l,{U:function(){return s}}),(t=s||(s={}))[t.TEXTINPUT=0]="TEXTINPUT",t[t.DROPDOWN=1]="DROPDOWN",t[t.CHECKBOX=2]="CHECKBOX",t[t.DATE=3]="DATE",t[t.MATRIX=4]="MATRIX",t[t.FILEUPLOAD=5]="FILEUPLOAD"},21413:function(e,l,a){"use strict";a.d(l,{J2:function(){return i},xo:function(){return d},yk:function(){return o}});var s=a(57437),t=a(2265),r=a(816),n=a(49354);let i=r.fC,d=r.xz,o=t.forwardRef((e,l)=>{let{className:a,align:t="center",sideOffset:i=4,...d}=e;return(0,s.jsx)(r.h_,{children:(0,s.jsx)(r.VY,{ref:l,align:t,sideOffset:i,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d})})});o.displayName=r.VY.displayName},78109:function(e,l,a){"use strict";a.d(l,{Is:function(){return s},WB:function(){return t}});let s="/api/survey/admin/createsurvey",t="/api/survey/fillsurvey"},49354:function(e,l,a){"use strict";a.d(l,{cn:function(){return r}});var s=a(44839),t=a(96164);function r(){for(var e=arguments.length,l=Array(e),a=0;a<e;a++)l[a]=arguments[a];return(0,t.m6)((0,s.W)(l))}}},function(e){e.O(0,[223,741,648,378,327,971,23,744],function(){return e(e.s=50328)}),_N_E=e.O()}]);