(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{76939:function(e,t,r){Promise.resolve().then(r.bind(r,3049))},20357:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(88081)},88081:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l=[],c=!1,d=-1;function u(){c&&n&&(c=!1,n.length?l=n.concat(l):d=-1,l.length&&f())}function f(){if(!c){var e=i(u);c=!0;for(var t=l.length;t;){for(n=l,l=[];++d<t;)n&&n[d].run();d=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function x(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new x(e,t)),1!==l.length||c||i(f)},x.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}},o=!0;try{t[e](s,s.exports,n),o=!1}finally{o&&delete r[e]}return s.exports}n.ab="//";var a=n(229);e.exports=a}()},3049:function(e,t,r){"use strict";r.d(t,{default:function(){return g}});var n=r(57437),a=r(2265),s=r(26615),o=r(35123),i=r(87138),l=r(73930);let c=(e,t,r)=>{let n=(t-1)*r;return e.slice(n,n+r)};function d(e){let{surveyResponseData:t,surveyID:r,title:s,formFields:d}=e,u=s.split("%!@");s=u[0],u[1];let[f,x]=(0,a.useState)(1),[m,p]=(0,a.useState)(t),[g,h]=(0,a.useState)([]);return(0,a.useEffect)(()=>{p(t),x(1)},[t]),(0,a.useEffect)(()=>{h(c(t,f,11))},[t]),(0,a.useEffect)(()=>{let e=[];console.log("next page",e=c(t,f,11)),h(e)},[f]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:" p-6 px-0 pb-2 pt-0",children:[(0,n.jsxs)("table",{className:"w-full min-w-[640px] table-auto",children:[(0,n.jsx)("thead",{className:" text-base text-sky-900",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"border-blue-gray-50 border-b px-5 py-3 text-left",children:(0,n.jsx)("p",{className:"text-blue-gray-400 block font-sans  font-bold uppercase antialiased",children:"Survey Title"})}),(0,n.jsx)("th",{className:"border-blue-gray-50 border-b px-5 py-3 text-center",children:(0,n.jsx)("p",{className:"text-blue-gray-400 block font-sans  font-bold uppercase antialiased",children:"Response By"})}),(0,n.jsx)("th",{className:"border-blue-gray-50 border-b px-5 py-3 text-center",children:(0,n.jsx)("p",{className:"text-blue-gray-400 block font-sans  font-bold uppercase antialiased",children:"Response Date"})}),(0,n.jsx)("th",{})]})}),(0,n.jsx)("tbody",{children:g.map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"border-blue-gray-50 border-b px-5 py-3 text-left",children:(0,n.jsx)("p",{className:"text-blue-gray-900 block font-sans text-sm font-semibold leading-normal antialiased",children:s})}),(0,n.jsx)("td",{className:"border-blue-gray-50 border-b px-5 py-3 text-center",children:(0,n.jsx)("p",{className:"text-blue-gray-900 block font-sans text-sm font-semibold leading-normal antialiased",children:e.username})}),(0,n.jsx)("td",{className:"border-blue-gray-50 border-b px-5 py-3 text-center",children:(0,n.jsx)("p",{className:"text-blue-gray-900 block font-sans text-sm font-semibold leading-normal antialiased",children:(0,o.i)(e.createdat)})}),(0,n.jsx)("td",{className:"border-blue-gray-50 border-b px-5 py-3 text-center",children:(0,n.jsx)("p",{className:"text-blue-gray-900 block font-sans text-sm font-semibold leading-normal antialiased",children:(0,n.jsx)(i.default,{href:"".concat(r,"/").concat(e.id),children:(0,n.jsx)("button",{children:"View Response"})})})})]},t))})]}),(0,n.jsx)(l.Z,{items:m.length,currentPage:f,pageSize:11,onPageChange:e=>{x(e)}})]})})}var u=r(21413),f=e=>{let{link:t}=e,[r,s]=(0,a.useState)(!1),o=async()=>{try{await navigator.clipboard.writeText(t),s(!0),setTimeout(()=>s(!1),2e3)}catch(e){console.error("Failed to copy: ",e)}};return(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:o,children:r?"Copied!":"Copy"})})},x=e=>{let{link:t,title:r}=e;return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)("label",{htmlFor:"website-url",className:" text-lg font-medium text-gray-900 dark:text-white text-center",children:"Share this survey"})}),(0,n.jsxs)("h4",{className:"mb-4 text-base font-medium text-green-600",children:[" ",r.split("%!@")[0]]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-gray-900 bg-gray-100 border border-gray-300 rounded-s-lg dark:bg-gray-600 dark:text-white dark:border-gray-600",children:"URL"}),(0,n.jsx)("div",{className:"relative w-full",children:(0,n.jsx)("input",{id:"website-url",type:"text","aria-describedby":"helper-text-explanation",className:"bg-gray-50 border border-e-0  border-gray-300 text-gray-500 dark:text-gray-400 text-sm border-s-0 focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",value:t,readOnly:!0,disabled:!0})}),(0,n.jsx)("span",{className:"flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-white bg-blue-800 border border-gray-300 rounded-e-lg dark:bg-gray-600 dark:text-white dark:border-gray-600",children:(0,n.jsx)(f,{link:t})})]})]})},m=r(20357);function p(e){let{surveyID:t,title:r}=e,a=m.env.NEXT_PUBLIC_URL,s="".concat(a,"/user/survey/").concat(t);return(0,n.jsx)("div",{className:"flex flex-col w-[100%]",children:(0,n.jsx)(x,{link:s,title:r})})}var g=function(e){let{surveyResponseData:t,surveyID:r,title:o,formFields:l}=e,[c,f]=(0,a.useState)([]);return(0,a.useEffect)(()=>{f(t)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex justify-between relative mx-4 mt-2 mb-8",children:[(0,n.jsx)(s.Z,{onChangeCallback:e=>{f(t.filter(t=>t.username.toLowerCase().includes(e.toLowerCase())))},placeholder:"Search Records"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)(u.J2,{children:[(0,n.jsx)(u.xo,{className:"text-white bg-gradient-to-br from-sky-500 to-sky-900 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2",children:"Share"}),(0,n.jsx)(u.yk,{className:"w-[25rem]",children:(0,n.jsx)(p,{title:o,surveyID:r})})]}),(0,n.jsx)(i.default,{href:"download-responses/".concat(r),target:"_blank",className:"text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2",children:"Export Responses to Excel"})]})]}),(0,n.jsx)(d,{surveyResponseData:c,surveyID:r,title:o,formFields:l})]})}},26615:function(e,t,r){"use strict";var n=r(57437),a=r(2265);t.Z=e=>{let{onChangeCallback:t,placeholder:r}=e,[s,o]=(0,a.useState)("");return(0,n.jsxs)("div",{className:"flex items-center gap-2 border-2 border-gray-300 rounded-full overflow-hidden px-2 has-[:focus]:border-sky-300",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"25px",height:"25px",children:(0,n.jsx)("path",{d:"M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z"})}),(0,n.jsx)("input",{className:" bg-white h-[2rem] px-5 rounded-lg text-sm focus:outline-none w-full",type:"search",value:s,onChange:e=>{let r=e.target.value;o(r),t&&t(r)},name:"search",placeholder:r})]})}},73930:function(e,t,r){"use strict";var n=r(57437),a=r(17278),s=r.n(a);t.Z=e=>{let{items:t,pageSize:r,currentPage:a,onPageChange:o}=e;console.log("items -> ",t);let i=Math.ceil(t/r);if(1===i)return null;let l=Array.from({length:i},(e,t)=>t+1);return(0,n.jsx)("div",{children:(0,n.jsx)("ul",{className:s().pagination,children:l.map(e=>(0,n.jsx)("li",{className:e===a?s().pageItemActive:s().pageItem,onClick:()=>o(e),children:(0,n.jsx)("a",{className:s().pageLink,children:e})},e))})})}},21413:function(e,t,r){"use strict";r.d(t,{J2:function(){return i},xo:function(){return l},yk:function(){return c}});var n=r(57437),a=r(2265),s=r(816),o=r(49354);let i=s.fC,l=s.xz,c=a.forwardRef((e,t)=>{let{className:r,align:a="center",sideOffset:i=4,...l}=e;return(0,n.jsx)(s.h_,{children:(0,n.jsx)(s.VY,{ref:t,align:a,sideOffset:i,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});c.displayName=s.VY.displayName},35123:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n=e=>{if(!e)return"";let t=new Date(e),r=t.getUTCMonth()+1,n=t.getUTCFullYear(),a=t.getUTCDate(),s=["January","February","March","April","May","June","July","August","September","October","November","December"][r-1];return"".concat(s," ").concat(a,", ").concat(n)}},49354:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(44839),a=r(96164);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},17278:function(e){e.exports={container:"Pagination_container__K2pXc",pagination:"Pagination_pagination__YO7tt",pageLink:"Pagination_pageLink__Dbtuc",pageItem:"Pagination_pageItem__S74oz",pageItemActive:"Pagination_pageItemActive__tUfHZ"}}},function(e){e.O(0,[180,138,378,971,23,744],function(){return e(e.s=76939)}),_N_E=e.O()}]);