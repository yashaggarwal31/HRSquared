(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{65162:function(e,a,n){Promise.resolve().then(n.bind(n,46605))},16463:function(e,a,n){"use strict";var s=n(71169);n.o(s,"useParams")&&n.d(a,{useParams:function(){return s.useParams}}),n.o(s,"usePathname")&&n.d(a,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(a,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(a,{useSearchParams:function(){return s.useSearchParams}})},58064:function(e,a,n){"use strict";Object.defineProperty(a,"$",{enumerable:!0,get:function(){return r}});let s=n(74590);function r(e){let{createServerReference:a}=n(6671);return a(e,s.callServer)}},46605:function(e,a,n){"use strict";n.d(a,{default:function(){return c}});var s=n(57437),r=n(30999),l=n(87138),o=n(2265),t=n(16463);function c(e){let{user:a,userFields:n}=e,c=(0,t.useRouter)(),[d,u]=(0,o.useState)(()=>{let e=n.roles.find(e=>e.rolename===a.rolename);return e?e.id:""}),[i,f]=(0,o.useState)(()=>{let e=n.groups.find(e=>e.groupname===a.groupname);return e?e.id:""}),[m,h]=(0,o.useState)([]),[b,g]=(0,o.useState)(()=>{let e=n.categories.find(e=>e.categoryname===a.categoryname);return e?e.id:""}),[x,p]=(0,o.useState)(!1),[y,v]=(0,o.useState)(a.can_create_survey?"yes":"no"),j=async()=>{let e={user_id:a.id,role_id:d,category_id:b,group_id:i,can_create_survey:"yes"===y};try{p(!0),await (0,r.BF)(e),c.push("/admin/manage-users"),p(!1)}catch(e){}};return(0,s.jsx)("div",{className:"max-w-md mx-auto bg-white shadow-md rounded-md",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"name",children:"Name:"}),(0,s.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",value:a.username,disabled:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"email",children:"Email:"}),(0,s.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",value:a.email,disabled:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"role",children:['Role: (Current "',a.rolename,'")']}),(0,s.jsx)("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"role",onChange:e=>u(e.target.value),value:d,children:n.roles.map((e,a)=>(0,s.jsx)("option",{value:e.id,children:e.rolename},a))})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"group",children:['Group: (Current "',a.groupname,'")']}),(0,s.jsxs)("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"group",value:i,onChange:e=>{f(e.target.value),h(n.categories.filter(a=>a.group_id===e.target.value))},children:[n.groups.map((e,a)=>(0,s.jsx)("option",{value:e.id,children:e.groupname},a)),(0,s.jsx)("option",{value:"null",children:"None"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"category",children:['Category: (Current "',a.categoryname,'")']}),(0,s.jsxs)("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"category",value:b,onChange:e=>g(e.target.value),children:[m.map((e,a)=>(0,s.jsx)("option",{value:e.id,children:e.categoryname},a)),(0,s.jsx)("option",{value:"null",children:"None"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 font-bold mb-2",children:"Can Create Survey?"}),(0,s.jsxs)("span",{className:"flex flex-row gap-6",children:[(0,s.jsxs)("div",{onClick:()=>v("yes"),children:[(0,s.jsx)("input",{type:"radio",id:"yes",value:"yes",checked:"yes"===y,onChange:()=>v("yes")}),(0,s.jsx)("label",{htmlFor:"yes",className:"ml-2",children:"Yes"})]}),(0,s.jsxs)("div",{onClick:()=>v("no"),children:[(0,s.jsx)("input",{type:"radio",id:"no",value:"no",checked:"no"===y,onChange:()=>v("no")}),(0,s.jsx)("label",{htmlFor:"no",className:"ml-2",children:"No"})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-6",children:[(0,s.jsx)("button",{className:"flex-1 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:j,disabled:x,children:x?"Saving Changes...":"Save Changes"}),(0,s.jsx)(l.default,{href:"/admin/manage-users",children:(0,s.jsx)("button",{className:"flex-1 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Cancle"})})]})]})})}},30999:function(e,a,n){"use strict";n.d(a,{BF:function(){return o},P$:function(){return l},_X:function(){return r}}),n(74590);var s=n(58064),r=(0,s.$)("c3a6fc5c59e2081ad90a6af0191920ab22d8d718");(0,s.$)("bfb948864d3a9223fe1b23007ea4ecc247e7419e"),(0,s.$)("ef8258559ec09924b33df9cdb206b83c322e79bf");var l=(0,s.$)("258046a1e3860fa89174224a272f0cdf55590a87");(0,s.$)("f7abf20a8088752418c2e27ab26067e3f68fe53d");var o=(0,s.$)("5929f08dcffcabce9ece9ec262c4d1da2aec33a2");(0,s.$)("8b3bb30f46c0d6e334351cdbc6f39faf04c6bdb7"),(0,s.$)("a448f998d28c1535f4ba9b2d14794207c3b56e92"),(0,s.$)("d16ec756617f7017d927ecb303b422c45c2b5f8f"),(0,s.$)("4858cff1d6c3cbafd4219b6ca1e3648ed5c80d77"),(0,s.$)("deb9a62e45009688455aa5d6d724f09a72e9c0c6")}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=65162)}),_N_E=e.O()}]);